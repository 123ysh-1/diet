data:text/html;charset=utf-8,<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" /><meta name="apple-mobile-web-app-capable" content="yes" /><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" /><meta name="theme-color" content="#4f46e5" /><title>饮食计算器</title><style>*{box-sizing:border-box;margin:0;padding:0}body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);min-height:100vh;padding:20px;color:#333}.container{max-width:500px;margin:0 auto}.header{text-align:center;margin-bottom:25px;color:white}.header h1{font-size:24px;font-weight:600;margin-bottom:5px}.header p{font-size:14px;opacity:.9}.card{background:white;border-radius:16px;padding:20px;margin-bottom:20px;box-shadow:0 10px 25px rgba(0,0,0,.1)}.section-title{font-size:18px;font-weight:600;margin-bottom:15px;color:#4f46e5;display:flex;align-items:center}.input-group{margin-bottom:15px}label{display:block;margin-bottom:6px;font-size:14px;font-weight:500}input[type="number"]{width:100%;padding:12px 15px;border:1px solid #e2e8f0;border-radius:10px;font-size:16px;background:#f8fafc;transition:all .2s}input[type="number"]:focus{outline:none;border-color:#4f46e5;background:white;box-shadow:0 0 0 3px rgba(79,70,229,.1)}.target-box{background:#f0f9ff;border-radius:12px;padding:15px;margin-top:10px}.target-row{display:flex;justify-content:space-between;margin-bottom:8px}.target-row:last-child{margin-bottom:0}.meal-section{margin-top:20px}.meal-row{display:flex;gap:10px;margin-bottom:12px}.meal-row:last-child{margin-bottom:0}.meal-input{flex:1}.summary-box{background:#f0fdf4;border-radius:12px;padding:15px;margin-top:10px}.summary-row{display:flex;justify-content:space-between;margin-bottom:8px}.summary-row:last-child{margin-bottom:0}.value{font-weight:600}.positive{color:#10b981}.negative{color:#ef4444}.buttons{display:flex;gap:10px;margin-top:20px}button{flex:1;padding:14px;border:none;border-radius:12px;font-size:16px;font-weight:600;cursor:pointer;transition:all .2s}.reset-btn{background:#f1f5f9;color:#475569}.reset-btn:active{background:#e2e8f0}.add-btn{background:#4f46e5;color:white}.add-btn:active{background:#4338ca}.meal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px}.remove-meal{background:#fecaca;color:#dc2626;padding:8px 12px;border-radius:8px;font-size:14px}.hidden{display:none}</style></head><body><div class="container"><div class="header"><h1>饮食计算器</h1><p>轻松管理每日蛋白质和碳水摄入</p></div><div class="card"><div class="section-title"><span>基础信息</span></div><div class="input-group"><label for="weight">今日体重 (kg)</label><input type="number" id="weight" min="0" step="0.1" placeholder="输入体重"></div><div class="target-box"><div class="target-row"><span>目标碳水总量 (g)</span><span id="targetCarb" class="value">-</span></div><div class="target-row"><span>目标蛋白总量 (g)</span><span id="targetProtein" class="value">-</span></div></div></div><div class="card"><div class="section-title"><span>早餐</span></div><div class="meal-row"><div class="meal-input"><label for="bfCarb">碳水 (g)</label><input type="number" id="bfCarb" min="0" step="1" placeholder="0"></div><div class="meal-input"><label for="bfProtein">蛋白 (g)</label><input type="number" id="bfProtein" min="0" step="1" placeholder="0"></div></div></div><div class="card"><div class="section-title"><span>午餐</span></div><div class="meal-row"><div class="meal-input"><label for="lunchCarb">碳水 (g)</label><input type="number" id="lunchCarb" min="0" step="1" placeholder="0"></div><div class="meal-input"><label for="lunchProtein">蛋白 (g)</label><input type="number" id="lunchProtein" min="0" step="1" placeholder="0"></div></div></div><div class="card"><div class="section-title"><span>晚餐</span></div><div class="meal-row"><div class="meal-input"><label for="dinnerCarb">碳水 (g)</label><input type="number" id="dinnerCarb" min="0" step="1" placeholder="0"></div><div class="meal-input"><label for="dinnerProtein">蛋白 (g)</label><input type="number" id="dinnerProtein" min="0" step="1" placeholder="0"></div></div></div><div class="card"><div class="section-title"><span>加餐</span></div><div class="meal-row"><div class="meal-input"><label for="snackCarb">碳水 (g)</label><input type="number" id="snackCarb" min="0" step="1" placeholder="0"></div><div class="meal-input"><label for="snackProtein">蛋白 (g)</label><input type="number" id="snackProtein" min="0" step="1" placeholder="0"></div></div></div><div id="extraMealsContainer"></div><div class="buttons"><button class="add-btn" id="addMealBtn">添加加餐</button><button class="reset-btn" id="resetBtn">重置数据</button></div><div class="card"><div class="section-title"><span>今日汇总</span></div><div class="summary-box"><div class="summary-row"><span>已摄入碳水合计 (g)</span><span id="sumCarb" class="value">0</span></div><div class="summary-row"><span>已摄入蛋白合计 (g)</span><span id="sumProtein" class="value">0</span></div><div class="summary-row"><span>当前还可摄入碳水 (g)</span><span id="remainCarb" class="value">-</span></div><div class="summary-row"><span>当前还可摄入蛋白 (g)</span><span id="remainProtein" class="value">-</span></div></div></div></div><script>const weightInput=document.getElementById('weight'),bfCarbInput=document.getElementById('bfCarb'),bfProteinInput=document.getElementById('bfProtein'),lunchCarbInput=document.getElementById('lunchCarb'),lunchProteinInput=document.getElementById('lunchProtein'),dinnerCarbInput=document.getElementById('dinnerCarb'),dinnerProteinInput=document.getElementById('dinnerProtein'),snackCarbInput=document.getElementById('snackCarb'),snackProteinInput=document.getElementById('snackProtein'),targetCarbEl=document.getElementById('targetCarb'),targetProteinEl=document.getElementById('targetProtein'),sumCarbEl=document.getElementById('sumCarb'),sumProteinEl=document.getElementById('sumProtein'),remainCarbEl=document.getElementById('remainCarb'),remainProteinEl=document.getElementById('remainProtein'),addMealBtn=document.getElementById('addMealBtn'),resetBtn=document.getElementById('resetBtn'),extraMealsContainer=document.getElementById('extraMealsContainer');let extraMeals=[],mealCounter=1;function toNumber(e){const t=parseFloat(e);return isNaN(t)?0:t}function format(e){return Number.isFinite(e)?e.toFixed(1):"-"}function updateRemainingColor(e,t){t>=0?e.className="value positive":e.className="value negative"}function update(){const e=toNumber(weightInput.value),t=e*2,n=e*1.5;targetCarbEl.textContent=e>0?format(t):"-",targetProteinEl.textContent=e>0?format(n):"-";let o=toNumber(bfCarbInput.value)+toNumber(lunchCarbInput.value)+toNumber(dinnerCarbInput.value)+toNumber(snackCarbInput.value),r=toNumber(bfProteinInput.value)+toNumber(lunchProteinInput.value)+toNumber(dinnerProteinInput.value)+toNumber(snackProteinInput.value);extraMeals.forEach(e=>{o+=toNumber(e.carbInput.value),r+=toNumber(e.proteinInput.value)}),sumCarbEl.textContent=format(o),sumProteinEl.textContent=format(r),e>0?(l=format(t-o),c=format(n-r),remainCarbEl.textContent=l,remainProteinEl.textContent=c,updateRemainingColor(remainCarbEl,t-o),updateRemainingColor(remainProteinEl,n-r)):(remainCarbEl.textContent="-",remainProteinEl.textContent="-",remainCarbEl.className="value",remainProteinEl.className="value"))}var l,c;function addMeal(){mealCounter++;const e=document.createElement("div");e.className="card",e.innerHTML='<div class="meal-header"><div class="section-title"><span>加餐 '+mealCounter+'</span></div><button class="remove-meal">删除</button></div><div class="meal-row"><div class="meal-input"><label>碳水 (g)</label><input type="number" min="0" step="1" placeholder="0"></div><div class="meal-input"><label>蛋白 (g)</label><input type="number" min="0" step="1" placeholder="0"></div></div>',extraMealsContainer.appendChild(e);const t=e.querySelector('.meal-row input[type="number"]:first-child'),n=e.querySelector('.meal-row input[type="number"]:last-child'),o=e.querySelector(".remove-meal"),r={carbInput:t,proteinInput:n,mealCard:e};extraMeals.push(r),t.addEventListener("input",update),n.addEventListener("input",update),o.addEventListener("click",(()=>{removeMeal(r)})),update()}function removeMeal(e){const t=extraMeals.indexOf(e);t>-1&&(extraMeals.splice(t,1),extraMealsContainer.removeChild(e.mealCard),update())}function resetAll(){weightInput.value="",bfCarbInput.value="",bfProteinInput.value="",lunchCarbInput.value="",lunchProteinInput.value="",dinnerCarbInput.value="",dinnerProteinInput.value="",snackCarbInput.value="",snackProteinInput.value="",extraMeals.forEach(e=>{extraMealsContainer.removeChild(e.mealCard)}),extraMeals=[],mealCounter=1,update()}addMealBtn.addEventListener("click",addMeal),resetBtn.addEventListener("click",resetAll);const allInputs=[weightInput,bfCarbInput,bfProteinInput,lunchCarbInput,lunchProteinInput,dinnerCarbInput,dinnerProteinInput,snackCarbInput,snackProteinInput];allInputs.forEach(e=>{e.addEventListener("input",update)}),update();</script></body></html>